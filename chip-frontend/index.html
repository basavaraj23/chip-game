<!doctype html>
<html><head><meta charset="utf-8"><title>Chip Collector</title></head>
<body>
  <h1>ðŸŽ® Chip Collector</h1>
  <button id="btn">Collect Chips</button>
  <pre id="out"></pre>
<script>
const API_BASE_URL = (typeof process !== 'undefined' && process.env && process.env.API_BASE_URL) ||
                     window.API_BASE_URL || (document.currentScript.dataset.apiBaseUrl || 'http://localhost:8080');
document.getElementById('btn').onclick = async () => {
  const res = await fetch(`${API_BASE_URL}/api/collect`, {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({player:'You', chips: Math.floor(Math.random()*10)+1})
  });
  document.getElementById('out').textContent = (await res.json()).message;
};
</script>
</body></html>
